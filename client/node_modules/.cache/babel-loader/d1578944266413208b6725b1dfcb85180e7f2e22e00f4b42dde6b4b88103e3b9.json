{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(){const user=JSON.parse(localStorage.getItem(\"user\"));const token=localStorage.getItem(\"token\");const[password,setPassword]=useState(\"\");const handleChangePassword=async()=>{if(!password)return alert(\"Enter a new password\");try{await axios.post(\"http://localhost:5000/auth/change-password\",{password},{headers:{Authorization:\"Bearer \".concat(token)}});alert(\"Password updated successfully\");setPassword(\"\");}catch(err){alert(\"Failed to update password\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded p-6 max-w-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-4\",children:\"Profile\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",user===null||user===void 0?void 0:user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",user===null||user===void 0?void 0:user.email]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Change Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"New Password\",className:\"border rounded p-2 w-full mb-3\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleChangePassword,className:\"bg-purple-500 text-white px-4 py-2 rounded\",children:\"Update Password\"})]})]});}export default Profile;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Profile","user","JSON","parse","localStorage","getItem","token","password","setPassword","handleChangePassword","alert","post","headers","Authorization","concat","err","className","children","name","email","type","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/yasmi/Downloads/studybuddy/client/src/pages/profile.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction Profile() {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleChangePassword = async () => {\r\n    if (!password) return alert(\"Enter a new password\");\r\n    try {\r\n      await axios.post(\"http://localhost:5000/auth/change-password\", \r\n        { password },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      alert(\"Password updated successfully\");\r\n      setPassword(\"\");\r\n    } catch (err) {\r\n      alert(\"Failed to update password\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white shadow rounded p-6 max-w-lg\">\r\n      <h2 className=\"text-lg font-semibold mb-4\">Profile</h2>\r\n      <p><strong>Name:</strong> {user?.name}</p>\r\n      <p><strong>Email:</strong> {user?.email}</p>\r\n\r\n      <div className=\"mt-6\">\r\n        <h3 className=\"font-semibold mb-2\">Change Password</h3>\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"New Password\"\r\n          className=\"border rounded p-2 w-full mb-3\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button\r\n          onClick={handleChangePassword}\r\n          className=\"bg-purple-500 text-white px-4 py-2 rounded\"\r\n        >\r\n          Update Password\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CACrD,KAAM,CAAAC,KAAK,CAAGF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAe,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CAACF,QAAQ,CAAE,MAAO,CAAAG,KAAK,CAAC,sBAAsB,CAAC,CACnD,GAAI,CACF,KAAM,CAAAf,KAAK,CAACgB,IAAI,CAAC,4CAA4C,CAC3D,CAAEJ,QAAS,CAAC,CACZ,CAAEK,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAYR,KAAK,CAAG,CAAE,CAClD,CAAC,CACDI,KAAK,CAAC,+BAA+B,CAAC,CACtCF,WAAW,CAAC,EAAE,CAAC,CACjB,CAAE,MAAOO,GAAG,CAAE,CACZL,KAAK,CAAC,2BAA2B,CAAC,CACpC,CACF,CAAC,CAED,mBACEX,KAAA,QAAKiB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACnDpB,IAAA,OAAImB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,cACvDlB,KAAA,MAAAkB,QAAA,eAAGpB,IAAA,WAAAoB,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAAChB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEiB,IAAI,EAAI,CAAC,cAC1CnB,KAAA,MAAAkB,QAAA,eAAGpB,IAAA,WAAAoB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAAChB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,KAAK,EAAI,CAAC,cAE5CpB,KAAA,QAAKiB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBpB,IAAA,OAAImB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACvDpB,IAAA,UACEuB,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,cAAc,CAC1BL,SAAS,CAAC,gCAAgC,CAC1CM,KAAK,CAAEf,QAAS,CAChBgB,QAAQ,CAAGC,CAAC,EAAKhB,WAAW,CAACgB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9C,CAAC,cACFzB,IAAA,WACE6B,OAAO,CAAEjB,oBAAqB,CAC9BO,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CACvD,iBAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAjB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}